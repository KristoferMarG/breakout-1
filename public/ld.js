(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

var canvas = document.createElement("canvas");
var gl = canvas.getContext("webgl");
var vertexSrc = document.getElementById("vertex").text;
var fragSrc = document.getElementById("fragment").text;

var POINT_DIMENSION = 2;
var POINTS_PER_BOX = 6;
var BOX_LENGTH = POINT_DIMENSION * POINTS_PER_BOX;

//TODO: inserted this janky crap to deal with scrollbars
//:: GLContext -> DomElement
function fitTo(gl, target) {
  var _canvas = gl.canvas;

  _canvas.width = target.innerWidth * 0.9;
  _canvas.height = target.innerHeight * 0.9;
  gl.viewport(0, 0, _canvas.width, _canvas.height);
}

//Shader: Program that is executed in parallel on the GPU

//:: => GLContext -> ENUM (VERTEX || FRAGMENT) -> String (Code)
function Shader(gl, type, src) {
  var shader = gl.createShader(type);
  var isValid = false;

  gl.shaderSource(shader, src);
  gl.compileShader(shader);

  isValid = gl.getShaderParameter(shader, gl.COMPILE_STATUS);

  if (!isValid) throw new Error("Not valid shader: \n" + src);
  return shader;
}

//:: => GLContext -> VertexShader -> FragmentShader
function Program(gl, vs, fs) {
  var _program = gl.createProgram(vs, fs);

  gl.attachShader(_program, vs);
  gl.attachShader(_program, fs);
  gl.linkProgram(_program);
  return _program;
}

//:: => GLContext -> Buffer
function Buffer(gl) {
  return gl.createBuffer();
}

//Coordinate system for webGL is clipspace which is -1 -> 1 on both x and y
//  Point(-1, -1), Point(1, -1), Point(-1, 1)
//express the data above on a single array
//  [-1.0, -1.0, 1.0, -1.0, -1.0, 1.0] -- standard JS Array  -- create with new Array(SIZE)
//express as Float32Array
//  new Float32Array([-1.0, -1.0, 1.0, -1.0, -1.0, 1.0])

//:: => GLContext -> Buffer -> Int -> Int -> Float32Array
function updateBuffer(gl, buffer, loc, chunkSize, data) {
  gl.bindBuffer(gl.ARRAY_BUFFER, buffer);
  gl.bufferData(gl.ARRAY_BUFFER, data, gl.DYNAMIC_DRAW);
  gl.enableVertexAttribArray(loc);
  gl.vertexAttribPointer(loc, chunkSize, gl.FLOAT, false, 0, 0);
}

function setBox(boxArray, index, x, y, w, h) {
  var i = BOX_LENGTH * index;
  var x1 = x;
  var y1 = y;
  var x2 = x + w;
  var y2 = y + h;

  boxArray[i] = x1;
  boxArray[i + 1] = y1;
  boxArray[i + 2] = x2;
  boxArray[i + 3] = y1;
  boxArray[i + 4] = x1;
  boxArray[i + 5] = y2;

  boxArray[i + 6] = x1;
  boxArray[i + 7] = y2;
  boxArray[i + 8] = x2;
  boxArray[i + 9] = y1;
  boxArray[i + 10] = x2;
  boxArray[i + 11] = y2;
}

var BOX_COUNT = 10;
var activeBoxes = 1;
var vs = Shader(gl, gl.VERTEX_SHADER, vertexSrc);
var fs = Shader(gl, gl.FRAGMENT_SHADER, fragSrc);
var program = Program(gl, vs, fs);
var buffer = Buffer(gl);
var boxes = new Float32Array(BOX_COUNT * BOX_LENGTH);
var posLocation = gl.getAttribLocation(program, "a_position");

setBox(boxes, 0, 0, 0, 1, 1);

/* 
 * Create a GL program (GL Shader(vertex), GL Shader(fragment))
 * Link the program to the GL context (this is stupid bookkeeping)
 * Use this GL program
 *
 * Send the GL program Data that it will use in the execution of the shaders
 *  vertex shaders: this is usually an array of points
 *  fragment shaders: this is usually textures, colors, filters, blah blah
 * 
 * Call the GL draw function
 *  1) run your vertex shaders in parallel for the chunks of data you have provided
 *  this usually means the big ass array of points in space you defined
 *
 *  2) run your fragment shaders in parallel and writes the resulting bitmap
 *  to a buffer.  By default, this buffer is the actual screen buffer
 *
 */

function makeAnimate(stuff) {
  gl.useProgram(program);
  return function animate() {
    gl.clearColor(1, 1, 1, 1);
    gl.clear(gl.COLOR_BUFFER_BIT);
    updateBuffer(gl, buffer, posLocation, POINT_DIMENSION, boxes);
    gl.drawArrays(gl.TRIANGLES, 0, activeBoxes * POINTS_PER_BOX);
    requestAnimationFrame(animate);
  };
}

//DOM Callback stuff
document.addEventListener("DOMContentLoaded", function () {
  document.body.appendChild(canvas);
  fitTo(gl, window);
  requestAnimationFrame(makeAnimate());
});

window.addEventListener("resize", function (_ref) {
  var target = _ref.target;
  return fitTo(gl, target);
});

},{}]},{},[1])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlc1xcYnJvd3NlcmlmeVxcbm9kZV9tb2R1bGVzXFxicm93c2VyLXBhY2tcXF9wcmVsdWRlLmpzIiwiQzovVXNlcnMva2FuZXNfMDAwL3Byb2plY3RzL2JyZWFrb3V0L3NyYy9sZC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUEsSUFBSSxNQUFNLEdBQU0sUUFBUSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsQ0FBQTtBQUNoRCxJQUFJLEVBQUUsR0FBVSxNQUFNLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFBO0FBQzFDLElBQUksU0FBUyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFBO0FBQ3RELElBQUksT0FBTyxHQUFLLFFBQVEsQ0FBQyxjQUFjLENBQUMsVUFBVSxDQUFDLENBQUMsSUFBSSxDQUFBOztBQUV4RCxJQUFNLGVBQWUsR0FBRyxDQUFDLENBQUE7QUFDekIsSUFBTSxjQUFjLEdBQUksQ0FBQyxDQUFBO0FBQ3pCLElBQU0sVUFBVSxHQUFRLGVBQWUsR0FBRyxjQUFjLENBQUE7Ozs7QUFJeEQsU0FBUyxLQUFLLENBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRTtBQUMxQixNQUFJLE9BQU0sR0FBRyxFQUFFLENBQUMsTUFBTSxDQUFBOztBQUV0QixTQUFNLENBQUMsS0FBSyxHQUFJLE1BQU0sQ0FBQyxVQUFVLEdBQUcsR0FBRSxDQUFBO0FBQ3RDLFNBQU0sQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLFdBQVcsR0FBRyxHQUFFLENBQUE7QUFDdkMsSUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLE9BQU0sQ0FBQyxLQUFLLEVBQUUsT0FBTSxDQUFDLE1BQU0sQ0FBQyxDQUFBO0NBQy9DOzs7OztBQUtELFNBQVMsTUFBTSxDQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFO0FBQzlCLE1BQUksTUFBTSxHQUFJLEVBQUUsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUE7QUFDbkMsTUFBSSxPQUFPLEdBQUcsS0FBSyxDQUFBOztBQUVuQixJQUFFLENBQUMsWUFBWSxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQTtBQUM1QixJQUFFLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFBOztBQUV4QixTQUFPLEdBQUcsRUFBRSxDQUFDLGtCQUFrQixDQUFDLE1BQU0sRUFBRSxFQUFFLENBQUMsY0FBYyxDQUFDLENBQUE7O0FBRTFELE1BQUksQ0FBQyxPQUFPLEVBQUUsTUFBTSxJQUFJLEtBQUssQ0FBQyxzQkFBc0IsR0FBRyxHQUFHLENBQUMsQ0FBQTtBQUMzRCxTQUFjLE1BQU0sQ0FBQTtDQUNyQjs7O0FBR0QsU0FBUyxPQUFPLENBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUU7QUFDNUIsTUFBSSxRQUFPLEdBQUcsRUFBRSxDQUFDLGFBQWEsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUE7O0FBRXRDLElBQUUsQ0FBQyxZQUFZLENBQUMsUUFBTyxFQUFFLEVBQUUsQ0FBQyxDQUFBO0FBQzVCLElBQUUsQ0FBQyxZQUFZLENBQUMsUUFBTyxFQUFFLEVBQUUsQ0FBQyxDQUFBO0FBQzVCLElBQUUsQ0FBQyxXQUFXLENBQUMsUUFBTyxDQUFDLENBQUE7QUFDdkIsU0FBTyxRQUFPLENBQUE7Q0FDZjs7O0FBR0QsU0FBUyxNQUFNLENBQUUsRUFBRSxFQUFFO0FBQ25CLFNBQU8sRUFBRSxDQUFDLFlBQVksRUFBRSxDQUFBO0NBQ3pCOzs7Ozs7Ozs7O0FBVUQsU0FBUyxZQUFZLENBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRTtBQUN2RCxJQUFFLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxZQUFZLEVBQUUsTUFBTSxDQUFDLENBQUE7QUFDdEMsSUFBRSxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsWUFBWSxFQUFFLElBQUksRUFBRSxFQUFFLENBQUMsWUFBWSxDQUFDLENBQUE7QUFDckQsSUFBRSxDQUFDLHVCQUF1QixDQUFDLEdBQUcsQ0FBQyxDQUFBO0FBQy9CLElBQUUsQ0FBQyxtQkFBbUIsQ0FBQyxHQUFHLEVBQUUsU0FBUyxFQUFFLEVBQUUsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQTtDQUM5RDs7QUFFRCxTQUFTLE1BQU0sQ0FBRSxRQUFRLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRTtBQUM1QyxNQUFJLENBQUMsR0FBSSxVQUFVLEdBQUcsS0FBSyxDQUFBO0FBQzNCLE1BQUksRUFBRSxHQUFHLENBQUMsQ0FBQTtBQUNWLE1BQUksRUFBRSxHQUFHLENBQUMsQ0FBQTtBQUNWLE1BQUksRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUE7QUFDZCxNQUFJLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFBOztBQUVkLFVBQVEsQ0FBQyxDQUFDLENBQUMsR0FBTSxFQUFFLENBQUE7QUFDbkIsVUFBUSxDQUFDLENBQUMsR0FBQyxDQUFDLENBQUMsR0FBSSxFQUFFLENBQUE7QUFDbkIsVUFBUSxDQUFDLENBQUMsR0FBQyxDQUFDLENBQUMsR0FBSSxFQUFFLENBQUE7QUFDbkIsVUFBUSxDQUFDLENBQUMsR0FBQyxDQUFDLENBQUMsR0FBSSxFQUFFLENBQUE7QUFDbkIsVUFBUSxDQUFDLENBQUMsR0FBQyxDQUFDLENBQUMsR0FBSSxFQUFFLENBQUE7QUFDbkIsVUFBUSxDQUFDLENBQUMsR0FBQyxDQUFDLENBQUMsR0FBSSxFQUFFLENBQUE7O0FBRW5CLFVBQVEsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDLEdBQUksRUFBRSxDQUFBO0FBQ25CLFVBQVEsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDLEdBQUksRUFBRSxDQUFBO0FBQ25CLFVBQVEsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDLEdBQUksRUFBRSxDQUFBO0FBQ25CLFVBQVEsQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDLEdBQUksRUFBRSxDQUFBO0FBQ25CLFVBQVEsQ0FBQyxDQUFDLEdBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFBO0FBQ25CLFVBQVEsQ0FBQyxDQUFDLEdBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFBO0NBQ3BCOztBQUVELElBQUksU0FBUyxHQUFLLEVBQUUsQ0FBQTtBQUNwQixJQUFJLFdBQVcsR0FBRyxDQUFDLENBQUE7QUFDbkIsSUFBSSxFQUFFLEdBQVksTUFBTSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsYUFBYSxFQUFFLFNBQVMsQ0FBQyxDQUFBO0FBQ3pELElBQUksRUFBRSxHQUFZLE1BQU0sQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLGVBQWUsRUFBRSxPQUFPLENBQUMsQ0FBQTtBQUN6RCxJQUFJLE9BQU8sR0FBTyxPQUFPLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQTtBQUNyQyxJQUFJLE1BQU0sR0FBUSxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUE7QUFDNUIsSUFBSSxLQUFLLEdBQVMsSUFBSSxZQUFZLENBQUMsU0FBUyxHQUFHLFVBQVUsQ0FBQyxDQUFBO0FBQzFELElBQUksV0FBVyxHQUFHLEVBQUUsQ0FBQyxpQkFBaUIsQ0FBQyxPQUFPLEVBQUUsWUFBWSxDQUFDLENBQUE7O0FBRTdELE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQW9CNUIsU0FBUyxXQUFXLENBQUUsS0FBSyxFQUFFO0FBQzNCLElBQUUsQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUE7QUFDdEIsU0FBTyxTQUFTLE9BQU8sR0FBSTtBQUN6QixNQUFFLENBQUMsVUFBVSxDQUFDLENBQUcsRUFBRSxDQUFHLEVBQUUsQ0FBRyxFQUFFLENBQUcsQ0FBQyxDQUFBO0FBQ2pDLE1BQUUsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLGdCQUFnQixDQUFDLENBQUE7QUFDN0IsZ0JBQVksQ0FBQyxFQUFFLEVBQUUsTUFBTSxFQUFFLFdBQVcsRUFBRSxlQUFlLEVBQUUsS0FBSyxDQUFDLENBQUE7QUFDN0QsTUFBRSxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsU0FBUyxFQUFFLENBQUMsRUFBRSxXQUFXLEdBQUcsY0FBYyxDQUFDLENBQUE7QUFDNUQseUJBQXFCLENBQUMsT0FBTyxDQUFDLENBQUE7R0FDL0IsQ0FBQTtDQUNGOzs7QUFHRCxRQUFRLENBQUMsZ0JBQWdCLENBQUMsa0JBQWtCLEVBQUUsWUFBWTtBQUN4RCxVQUFRLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQTtBQUNqQyxPQUFLLENBQUMsRUFBRSxFQUFFLE1BQU0sQ0FBQyxDQUFBO0FBQ2pCLHVCQUFxQixDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUE7Q0FDckMsQ0FBQyxDQUFBOztBQUVGLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLEVBQUU7TUFBRSxNQUFNLFFBQU4sTUFBTTtTQUFNLEtBQUssQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDO0NBQUEsQ0FBQyxDQUFBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImxldCBjYW52YXMgICAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpXHJcbmxldCBnbCAgICAgICAgPSBjYW52YXMuZ2V0Q29udGV4dChcIndlYmdsXCIpXHJcbmxldCB2ZXJ0ZXhTcmMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInZlcnRleFwiKS50ZXh0XHJcbmxldCBmcmFnU3JjICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZyYWdtZW50XCIpLnRleHRcclxuXHJcbmNvbnN0IFBPSU5UX0RJTUVOU0lPTiA9IDJcclxuY29uc3QgUE9JTlRTX1BFUl9CT1ggID0gNlxyXG5jb25zdCBCT1hfTEVOR1RIICAgICAgPSBQT0lOVF9ESU1FTlNJT04gKiBQT0lOVFNfUEVSX0JPWFxyXG5cclxuLy9UT0RPOiBpbnNlcnRlZCB0aGlzIGphbmt5IGNyYXAgdG8gZGVhbCB3aXRoIHNjcm9sbGJhcnNcclxuLy86OiBHTENvbnRleHQgLT4gRG9tRWxlbWVudFxyXG5mdW5jdGlvbiBmaXRUbyAoZ2wsIHRhcmdldCkge1xyXG4gIGxldCBjYW52YXMgPSBnbC5jYW52YXNcclxuXHJcbiAgY2FudmFzLndpZHRoICA9IHRhcmdldC5pbm5lcldpZHRoICogLjlcclxuICBjYW52YXMuaGVpZ2h0ID0gdGFyZ2V0LmlubmVySGVpZ2h0ICogLjlcclxuICBnbC52aWV3cG9ydCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpXHJcbn1cclxuXHJcbi8vU2hhZGVyOiBQcm9ncmFtIHRoYXQgaXMgZXhlY3V0ZWQgaW4gcGFyYWxsZWwgb24gdGhlIEdQVVxyXG5cclxuLy86OiA9PiBHTENvbnRleHQgLT4gRU5VTSAoVkVSVEVYIHx8IEZSQUdNRU5UKSAtPiBTdHJpbmcgKENvZGUpXHJcbmZ1bmN0aW9uIFNoYWRlciAoZ2wsIHR5cGUsIHNyYykge1xyXG4gIGxldCBzaGFkZXIgID0gZ2wuY3JlYXRlU2hhZGVyKHR5cGUpXHJcbiAgbGV0IGlzVmFsaWQgPSBmYWxzZVxyXG4gIFxyXG4gIGdsLnNoYWRlclNvdXJjZShzaGFkZXIsIHNyYylcclxuICBnbC5jb21waWxlU2hhZGVyKHNoYWRlcilcclxuXHJcbiAgaXNWYWxpZCA9IGdsLmdldFNoYWRlclBhcmFtZXRlcihzaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKVxyXG5cclxuICBpZiAoIWlzVmFsaWQpIHRocm93IG5ldyBFcnJvcihcIk5vdCB2YWxpZCBzaGFkZXI6IFxcblwiICsgc3JjKVxyXG4gIHJldHVybiAgICAgICAgc2hhZGVyXHJcbn1cclxuXHJcbi8vOjogPT4gR0xDb250ZXh0IC0+IFZlcnRleFNoYWRlciAtPiBGcmFnbWVudFNoYWRlclxyXG5mdW5jdGlvbiBQcm9ncmFtIChnbCwgdnMsIGZzKSB7XHJcbiAgbGV0IHByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKHZzLCBmcylcclxuXHJcbiAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIHZzKVxyXG4gIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCBmcylcclxuICBnbC5saW5rUHJvZ3JhbShwcm9ncmFtKVxyXG4gIHJldHVybiBwcm9ncmFtXHJcbn1cclxuXHJcbi8vOjogPT4gR0xDb250ZXh0IC0+IEJ1ZmZlclxyXG5mdW5jdGlvbiBCdWZmZXIgKGdsKSB7XHJcbiAgcmV0dXJuIGdsLmNyZWF0ZUJ1ZmZlcigpXHJcbn1cclxuXHJcbi8vQ29vcmRpbmF0ZSBzeXN0ZW0gZm9yIHdlYkdMIGlzIGNsaXBzcGFjZSB3aGljaCBpcyAtMSAtPiAxIG9uIGJvdGggeCBhbmQgeVxyXG4vLyAgUG9pbnQoLTEsIC0xKSwgUG9pbnQoMSwgLTEpLCBQb2ludCgtMSwgMSlcclxuLy9leHByZXNzIHRoZSBkYXRhIGFib3ZlIG9uIGEgc2luZ2xlIGFycmF5XHJcbi8vICBbLTEuMCwgLTEuMCwgMS4wLCAtMS4wLCAtMS4wLCAxLjBdIC0tIHN0YW5kYXJkIEpTIEFycmF5ICAtLSBjcmVhdGUgd2l0aCBuZXcgQXJyYXkoU0laRSlcclxuLy9leHByZXNzIGFzIEZsb2F0MzJBcnJheVxyXG4vLyAgbmV3IEZsb2F0MzJBcnJheShbLTEuMCwgLTEuMCwgMS4wLCAtMS4wLCAtMS4wLCAxLjBdKVxyXG5cclxuLy86OiA9PiBHTENvbnRleHQgLT4gQnVmZmVyIC0+IEludCAtPiBJbnQgLT4gRmxvYXQzMkFycmF5XHJcbmZ1bmN0aW9uIHVwZGF0ZUJ1ZmZlciAoZ2wsIGJ1ZmZlciwgbG9jLCBjaHVua1NpemUsIGRhdGEpIHtcclxuICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgYnVmZmVyKVxyXG4gIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBkYXRhLCBnbC5EWU5BTUlDX0RSQVcpXHJcbiAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkobG9jKVxyXG4gIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIobG9jLCBjaHVua1NpemUsIGdsLkZMT0FULCBmYWxzZSwgMCwgMClcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0Qm94IChib3hBcnJheSwgaW5kZXgsIHgsIHksIHcsIGgpIHtcclxuICBsZXQgaSAgPSBCT1hfTEVOR1RIICogaW5kZXhcclxuICBsZXQgeDEgPSB4XHJcbiAgbGV0IHkxID0geSBcclxuICBsZXQgeDIgPSB4ICsgd1xyXG4gIGxldCB5MiA9IHkgKyBoXHJcblxyXG4gIGJveEFycmF5W2ldICAgID0geDFcclxuICBib3hBcnJheVtpKzFdICA9IHkxXHJcbiAgYm94QXJyYXlbaSsyXSAgPSB4MlxyXG4gIGJveEFycmF5W2krM10gID0geTFcclxuICBib3hBcnJheVtpKzRdICA9IHgxXHJcbiAgYm94QXJyYXlbaSs1XSAgPSB5MlxyXG5cclxuICBib3hBcnJheVtpKzZdICA9IHgxXHJcbiAgYm94QXJyYXlbaSs3XSAgPSB5MlxyXG4gIGJveEFycmF5W2krOF0gID0geDJcclxuICBib3hBcnJheVtpKzldICA9IHkxXHJcbiAgYm94QXJyYXlbaSsxMF0gPSB4MlxyXG4gIGJveEFycmF5W2krMTFdID0geTJcclxufVxyXG5cclxubGV0IEJPWF9DT1VOVCAgID0gMTBcclxubGV0IGFjdGl2ZUJveGVzID0gMVxyXG5sZXQgdnMgICAgICAgICAgPSBTaGFkZXIoZ2wsIGdsLlZFUlRFWF9TSEFERVIsIHZlcnRleFNyYylcclxubGV0IGZzICAgICAgICAgID0gU2hhZGVyKGdsLCBnbC5GUkFHTUVOVF9TSEFERVIsIGZyYWdTcmMpXHJcbmxldCBwcm9ncmFtICAgICA9IFByb2dyYW0oZ2wsIHZzLCBmcylcclxubGV0IGJ1ZmZlciAgICAgID0gQnVmZmVyKGdsKVxyXG5sZXQgYm94ZXMgICAgICAgPSBuZXcgRmxvYXQzMkFycmF5KEJPWF9DT1VOVCAqIEJPWF9MRU5HVEgpXHJcbmxldCBwb3NMb2NhdGlvbiA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHByb2dyYW0sIFwiYV9wb3NpdGlvblwiKVxyXG5cclxuc2V0Qm94KGJveGVzLCAwLCAwLCAwLCAxLCAxKVxyXG5cclxuLyogXHJcbiAqIENyZWF0ZSBhIEdMIHByb2dyYW0gKEdMIFNoYWRlcih2ZXJ0ZXgpLCBHTCBTaGFkZXIoZnJhZ21lbnQpKVxyXG4gKiBMaW5rIHRoZSBwcm9ncmFtIHRvIHRoZSBHTCBjb250ZXh0ICh0aGlzIGlzIHN0dXBpZCBib29ra2VlcGluZylcclxuICogVXNlIHRoaXMgR0wgcHJvZ3JhbVxyXG4gKlxyXG4gKiBTZW5kIHRoZSBHTCBwcm9ncmFtIERhdGEgdGhhdCBpdCB3aWxsIHVzZSBpbiB0aGUgZXhlY3V0aW9uIG9mIHRoZSBzaGFkZXJzXHJcbiAqICB2ZXJ0ZXggc2hhZGVyczogdGhpcyBpcyB1c3VhbGx5IGFuIGFycmF5IG9mIHBvaW50c1xyXG4gKiAgZnJhZ21lbnQgc2hhZGVyczogdGhpcyBpcyB1c3VhbGx5IHRleHR1cmVzLCBjb2xvcnMsIGZpbHRlcnMsIGJsYWggYmxhaFxyXG4gKiBcclxuICogQ2FsbCB0aGUgR0wgZHJhdyBmdW5jdGlvblxyXG4gKiAgMSkgcnVuIHlvdXIgdmVydGV4IHNoYWRlcnMgaW4gcGFyYWxsZWwgZm9yIHRoZSBjaHVua3Mgb2YgZGF0YSB5b3UgaGF2ZSBwcm92aWRlZFxyXG4gKiAgdGhpcyB1c3VhbGx5IG1lYW5zIHRoZSBiaWcgYXNzIGFycmF5IG9mIHBvaW50cyBpbiBzcGFjZSB5b3UgZGVmaW5lZFxyXG4gKlxyXG4gKiAgMikgcnVuIHlvdXIgZnJhZ21lbnQgc2hhZGVycyBpbiBwYXJhbGxlbCBhbmQgd3JpdGVzIHRoZSByZXN1bHRpbmcgYml0bWFwXHJcbiAqICB0byBhIGJ1ZmZlci4gIEJ5IGRlZmF1bHQsIHRoaXMgYnVmZmVyIGlzIHRoZSBhY3R1YWwgc2NyZWVuIGJ1ZmZlclxyXG4gKlxyXG4gKi9cclxuXHJcbmZ1bmN0aW9uIG1ha2VBbmltYXRlIChzdHVmZikge1xyXG4gIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSlcclxuICByZXR1cm4gZnVuY3Rpb24gYW5pbWF0ZSAoKSB7XHJcbiAgICBnbC5jbGVhckNvbG9yKDEuMCwgMS4wLCAxLjAsIDEuMClcclxuICAgIGdsLmNsZWFyKGdsLkNPTE9SX0JVRkZFUl9CSVQpXHJcbiAgICB1cGRhdGVCdWZmZXIoZ2wsIGJ1ZmZlciwgcG9zTG9jYXRpb24sIFBPSU5UX0RJTUVOU0lPTiwgYm94ZXMpXHJcbiAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFUywgMCwgYWN0aXZlQm94ZXMgKiBQT0lOVFNfUEVSX0JPWClcclxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKVxyXG4gIH1cclxufVxyXG5cclxuLy9ET00gQ2FsbGJhY2sgc3R1ZmZcclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgZnVuY3Rpb24gKCkge1xyXG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY2FudmFzKVxyXG4gIGZpdFRvKGdsLCB3aW5kb3cpXHJcbiAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKG1ha2VBbmltYXRlKCkpXHJcbn0pXHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCAoe3RhcmdldH0pID0+IGZpdFRvKGdsLCB0YXJnZXQpKVxyXG4iXX0=
